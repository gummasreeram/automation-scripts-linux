FROM alpine:latest

ENV CATALINA_HOME=/opt/tomcat 

RUN apk update 

RUN apk add --no cache openjdk21-jdk wget tar

RUN mkdir -p $CATALINA_HOME

WORKDIR $CATALINA_HOME

ADD https://downloads.apache.org/tomcat/tomcat-10/v10.1.44/bin/apache-tomcat-10.1.44.tar.gz.asc .

RUN tar -xzvf apache-tomcat-10.1.44.tar.gz && \
    mv apache-tomcat-10.1.44.tar.gz/* $CATALINA_HOME

EXPOSE 8080

CMD ["/opt/tomcat/bin/catalina.sh", "run"]